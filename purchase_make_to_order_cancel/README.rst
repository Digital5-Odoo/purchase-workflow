===================
Purchase MTO Cancel
===================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/github-Digital5-Odoo%2Fpurchase--workflow-lightgray.png?logo=github
    :target: https://github.com/Digital5-Odoo/purchase-workflow/tree/11.0-purchase_make_to_order_cancel/purchase_make_to_order_cancel
    :alt: Digital5-Odoo/purchase-workflow

|badge1| |badge2| 

This module presents a solution to the possibility of a purchase cancellation
with a Make To Order (MTO) product. In Odoo v11 and v12 the cancellation of
the generated and confirmed purchase automatically cancels the stock picking
of the sale, without any warning or activity.

The core of the problem is that the purchase move has been created with
propagate=True (by default, as it is not informed), and therefore the sale
move is cancelled when the purchase is cancelled.

So this module deals with this problem with two actions:

* Inform the propagate field in the purchase move with the value of the procurement rule that created it. That way we can configure it on UI as False, and therefore the sale move wonÂ´t be cancelled - module stock will just change it to MTS
* Upon cancelling the purchase: recompute the state of the sale move, so it will change from "Waiting for other operation" to "Waiting availability"

**Table of contents**

.. contents::
   :local:

Usage
=====

Install the module, nothing else.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/Digital5-Odoo/purchase-workflow/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/Digital5-Odoo/purchase-workflow/issues/new?body=module:%20purchase_make_to_order_cancel%0Aversion:%2011.0-purchase_make_to_order_cancel%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Digital5
* S.L.

Contributors
~~~~~~~~~~~~

* Jon Erik Ceberio <jonerikceberio@digital5.es>

Maintainers
~~~~~~~~~~~

This module is part of the `Digital5-Odoo/purchase-workflow <https://github.com/Digital5-Odoo/purchase-workflow/tree/11.0-purchase_make_to_order_cancel/purchase_make_to_order_cancel>`_ project on GitHub.

You are welcome to contribute.
